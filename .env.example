# Fidus Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL (primary database)
DATABASE_URL=postgresql+asyncpg://fidus:fidus_password@localhost:5432/fidus
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Neo4j (graph database for relationships)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j_password
NEO4J_DATABASE=neo4j

# Redis (cache and event bus)
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=10

# =============================================================================
# LLM Provider Configuration
# =============================================================================

# OpenAI
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_MAX_TOKENS=4096

# Default LLM provider (openai or anthropic)
DEFAULT_LLM_PROVIDER=anthropic

# =============================================================================
# Security & Authentication
# =============================================================================

# JWT Configuration
SECRET_KEY=your-secret-key-change-in-production-min-32-characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30

# Password Requirements
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

# Encryption (for sensitive data at rest)
ENCRYPTION_KEY=your-encryption-key-change-in-production-32-bytes

# =============================================================================
# Application Configuration
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true for development)
DEBUG=true

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# =============================================================================
# External Integrations (MCP Servers)
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/plugins/google/callback

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_REDIRECT_URI=http://localhost:8000/api/plugins/microsoft/callback

# Apple OAuth
APPLE_CLIENT_ID=your-apple-client-id
APPLE_CLIENT_SECRET=your-apple-client-secret
APPLE_REDIRECT_URI=http://localhost:8000/api/plugins/apple/callback

# Plaid (Financial data)
PLAID_CLIENT_ID=your-plaid-client-id
PLAID_SECRET=your-plaid-secret
PLAID_ENVIRONMENT=sandbox

# FinAPI (European financial data)
FINAPI_CLIENT_ID=your-finapi-client-id
FINAPI_CLIENT_SECRET=your-finapi-client-secret

# Amadeus (Travel booking)
AMADEUS_API_KEY=your-amadeus-api-key
AMADEUS_API_SECRET=your-amadeus-api-secret

# =============================================================================
# Feature Flags
# =============================================================================

# Enable specific domains
ENABLE_CALENDAR=true
ENABLE_FINANCE=true
ENABLE_TRAVEL=true
ENABLE_COMMUNICATION=true
ENABLE_HEALTH=true
ENABLE_HOME=true
ENABLE_SHOPPING=true
ENABLE_LEARNING=true

# Enable proactivity
ENABLE_PROACTIVITY=true
PROACTIVITY_CHECK_INTERVAL_SECONDS=300

# Enable multi-tenancy
ENABLE_MULTI_TENANCY=true

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Sentry (Error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus (Metrics)
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# Email Configuration (for notifications)
# =============================================================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@fidus.ai
SMTP_FROM_NAME=Fidus

# =============================================================================
# Storage Configuration
# =============================================================================

# File upload
MAX_UPLOAD_SIZE_MB=10
UPLOAD_DIR=/tmp/fidus/uploads

# Backup
BACKUP_ENABLED=true
BACKUP_DIR=/tmp/fidus/backups
BACKUP_RETENTION_DAYS=30

# =============================================================================
# Development Tools
# =============================================================================

# Enable API documentation
ENABLE_DOCS=true

# Enable GraphQL playground
ENABLE_PLAYGROUND=true

# SQL Query logging
LOG_SQL_QUERIES=false
